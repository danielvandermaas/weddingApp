{"ast":null,"code":"var _jsxFileName = \"/home/daniel/Projecten/weddingApp/src/components/Tuin.js\";\nimport React, { Component } from 'react';\nimport { Map, TileLayer, Pane, Marker, Popup, Circle, GeoJSON } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nclass Tuin extends Component {\n  constructor(props) {\n    super(props);\n    this.leafletMap = null;\n\n    this.getMarkers = async layer => {\n      let body = {\n        'mapId': this.props.mapId,\n        'layer': layer,\n        'type': 'polygon'\n      };\n      let ids = await fetch('https://api.ellipsis-earth.com/v2/geometry/ids', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': this.props.token\n        },\n        body: JSON.stringify(body)\n      });\n      ids = await ids.json();\n      ids = ids.ids;\n      body = {\n        'mapId': this.props.mapId,\n        'elementIds': ids,\n        'type': 'polygon'\n      };\n      let geojson = await fetch('https://api.ellipsis-earth.com/v2/geometry/get', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': this.props.token\n        },\n        body: JSON.stringify(body)\n      });\n      geojson = await geojson.json();\n      console.log(geojson.features);\n      let geoJsonElements = geojson.features.map(feature => {\n        return /*#__PURE__*/React.createElement(GeoJSON, {\n          key: feature.properties.id,\n          data: feature,\n          style: this.props.actionPaneMode === AppUtility.actionPaneMode.postPhoto ? GEOMETRY_STYLES.nearbyField : GEOMETRY_STYLES.field,\n          onEachFeature: (feature, layer) => layer.on({\n            click: () => this.props.onFeatureClick(feature)\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 7\n          }\n        });\n      }); //if(layer == 'ceremonie'){\n      //    this.setState({ceremonie:geoJsonElements})\n      //  }\n    };\n\n    this.flyToPos = (pos, zoom = 18) => {\n      let leafletElement = this.leafletMap.current.leafletElement;\n      leafletElement.flyTo(pos, zoom, {\n        'duration': 6\n      });\n    };\n\n    this.checkState = () => {\n      console.log(this.state);\n    };\n\n    this.leafletMap = React.createRef();\n    this.state = {\n      'ceremonie': []\n    };\n  }\n\n  componentDidMount() {\n    this.flyToPos([51.98126, 5.82501]);\n    this.getMarkers('ceremonie');\n  }\n\n  render() {\n    let fullStyle = {\n      height: '1000px',\n      width: '1000px'\n    };\n    let tuinPosition = [51.98126, 5.82501];\n    let nlPosition = [52.05249, 5.53711];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: fullStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      value: \"check state\",\n      onClick: this.checkState,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Map, {\n      center: nlPosition,\n      zoom: 6,\n      style: fullStyle,\n      ref: this.leafletMap,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Pane, {\n      style: {\n        'zIndex': 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TileLayer, {\n      url: \"https://www.google.com/maps/vt?lyrs=y@189&x={x}&y={y}&z={z}\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(Pane, {\n      style: {\n        'zIndex': 150\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TileLayer, {\n      url: \"https://www.google.com/maps/vt?lyrs=y@189&x={x}&y={y}&z={z}\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Pane, {\n      style: {\n        'zIndex': 200\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Marker, {\n      position: [51.505, -0.09],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    }, \"U bent hier\"))), /*#__PURE__*/React.createElement(Pane, {\n      style: {\n        zIndex: 200\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, this.state.ceremonie)));\n  }\n\n}\n\n;\nexport default Tuin;","map":{"version":3,"sources":["/home/daniel/Projecten/weddingApp/src/components/Tuin.js"],"names":["React","Component","Map","TileLayer","Pane","Marker","Popup","Circle","GeoJSON","L","Tuin","constructor","props","leafletMap","getMarkers","layer","body","mapId","ids","fetch","method","headers","token","JSON","stringify","json","geojson","console","log","features","geoJsonElements","map","feature","properties","id","actionPaneMode","AppUtility","postPhoto","GEOMETRY_STYLES","nearbyField","field","on","click","onFeatureClick","flyToPos","pos","zoom","leafletElement","current","flyTo","checkState","state","createRef","componentDidMount","render","fullStyle","height","width","tuinPosition","nlPosition","zIndex","ceremonie"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {\n  Map,\n  TileLayer,\n  Pane,\n  Marker,\n  Popup,\n  Circle,\n  GeoJSON\n} from 'react-leaflet';\nimport L from 'leaflet'\nimport 'leaflet/dist/leaflet.css';\n\n\nclass Tuin extends Component {\n\n  leafletMap = null\n\n  constructor(props) {\n    super(props);\n\n    this.leafletMap = React.createRef();\n\n    this.state = {'ceremonie':[]}\n\n  }\n\n  componentDidMount() {\n  this.flyToPos([51.98126,5.82501])\n  this.getMarkers('ceremonie')\n  }\n\ngetMarkers= async (layer) =>{\n  let body = {'mapId':this.props.mapId, 'layer':layer, 'type':'polygon'}\n  let ids = await fetch('https://api.ellipsis-earth.com/v2/geometry/ids',{method:'POST',  headers: {'Content-Type': 'application/json', 'Authorization': this.props.token}, body:JSON.stringify(body)});\n  ids = await ids.json()\n  ids = ids.ids\n  body = {'mapId':this.props.mapId, 'elementIds':ids, 'type':'polygon'}\n  let geojson = await fetch('https://api.ellipsis-earth.com/v2/geometry/get',{method:'POST',  headers: {'Content-Type': 'application/json', 'Authorization': this.props.token}, body:JSON.stringify(body)});\n  geojson = await geojson.json()\n\n  console.log(geojson.features)\n  let geoJsonElements = geojson.features.map((feature) => {\n    return (\n      <GeoJSON\n        key={feature.properties.id}\n        data={feature}\n        style={this.props.actionPaneMode === AppUtility.actionPaneMode.postPhoto ?\n          GEOMETRY_STYLES.nearbyField : GEOMETRY_STYLES.field}\n        onEachFeature={(feature, layer) => layer.on({ click: () => this.props.onFeatureClick(feature) })}\n      />\n    );\n  });\n\n\n  //if(layer == 'ceremonie'){\n//    this.setState({ceremonie:geoJsonElements})\n//  }\n\n}\n\n  flyToPos = (pos, zoom = 18) => {\n    let leafletElement = this.leafletMap.current.leafletElement\n    leafletElement.flyTo(pos, zoom, {'duration':6});\n  }\n\ncheckState = () => {\n  console.log(this.state)\n}\n\n  render(){\n    let fullStyle = { height: '1000px', width: '1000px' };\n    let tuinPosition = [51.98126,5.82501]\n    let nlPosition = [52.05249,5.53711]\n\n    return(\n      <div style = {fullStyle}>\n      <input type='button' value = 'check state' onClick={this.checkState}/>\n      <Map center={nlPosition} zoom={6} style={fullStyle} ref={this.leafletMap}>\n      <Pane style = {{'zIndex':100}}>\n        <TileLayer\n          url='https://www.google.com/maps/vt?lyrs=y@189&x={x}&y={y}&z={z}'\n        />\n        </Pane>\n        <Pane style = {{'zIndex':150}}>\n          <TileLayer\n          url='https://www.google.com/maps/vt?lyrs=y@189&x={x}&y={y}&z={z}'\n          />\n          </Pane>\n        <Pane style = {{'zIndex':200}}>\n        <Marker position={[51.505, -0.09]}>\n          <Popup>U bent hier</Popup>\n        </Marker>\n        </Pane>\n        <Pane style={{ zIndex: 200 }}>\n          {this.state.ceremonie}\n        </Pane>\n\n        </Map>\n      </div>\n    )\n  }\n\n};\nexport default Tuin;\n"]},"metadata":{},"sourceType":"module"}